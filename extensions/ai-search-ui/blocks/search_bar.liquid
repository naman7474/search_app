<!-- AI Search - Replace your theme's search with AI-powered instant results -->
<div class="ai-search-widget" {{ block.shopify_attributes }} style="width: 100%;">
  <div id="ai-search-root" 
       data-shop-url="{{ shop.secure_url }}" 
       data-app-proxy-url="/apps/xpertsearch"
       data-display-mode="{{ block.settings.display_mode }}"
       data-results-limit="{{ block.settings.max_results | default: 10 }}"
       data-show-suggestions="{{ block.settings.show_suggestions | default: true }}"
       data-placeholder="{{ block.settings.placeholder_text | default: 'Search for products...' }}">
    <!-- React component will mount here -->
    <div class="ai-search-fallback" style="text-align: center; padding: 20px;">
      <p>Loading AI Search...</p>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "AI Search",
  "target": "section",
  "stylesheet": "main.css",
  "javascript": "main.js",
  "settings": [
    {
      "type": "select",
      "id": "display_mode",
      "label": "Display Mode",
      "options": [
        {
          "value": "bar",
          "label": "Search Bar"
        },
        {
          "value": "button",
          "label": "Search Button"
        }
      ],
      "default": "bar",
      "info": "Choose how the search widget appears on your store"
    },
    {
      "type": "range",
      "id": "max_results",
      "min": 5,
      "max": 20,
      "step": 1,
      "label": "Maximum Results",
      "default": 10,
      "info": "Number of products to show in search results"
    },
    {
      "type": "text",
      "id": "placeholder_text",
      "label": "Placeholder Text",
      "default": "Search for products...",
      "info": "Text shown when the search field is empty"
    },
    {
      "type": "checkbox",
      "id": "show_suggestions",
      "label": "Show Search Suggestions",
      "default": true,
      "info": "Display helpful search suggestions to users"
    }
  ]
}
{% endschema %}